<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    
    <script defer src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" integrity="sha384-rOA1PnstxnOBLzCLMcre8ybwbTmemjzdNlILg8O7z1lUkLXozs4DHonlDtnE7fpc" crossorigin="anonymous"></script>
   
    <link rel="stylesheet" href="assets/css/style.css" />
    <style>
        .error-message {
            color: red;
            font-size: 14px;
        }
    </style>
</head>
<body>

<section class="my-5 py-5">
    <div class="container text-center mt-3 pt-5">
        <h1 class="form-weight-bold">CHECKOUT</h1>
        <hr class="mx-auto">
    </div>

    <div class="mx-auto container">
        <form id="checkout-form">
            <div class="form-group">
                <label for="checkout-name">Name</label>
                <input type="text" class="form-control" id="checkout-name" name="name" placeholder="Name" required/>
                <div id="name-error" class="error-message"></div>
            </div>

            <div class="form-group">
                <label for="checkout-surname">Surname</label>
                <input type="text" class="form-control" id="checkout-surname" name="surname" placeholder="Surname" required/>
                <div id="surname-error" class="error-message"></div>
            </div>

            <div class="form-group">
                <label for="checkout-email">Email</label>
                <input type="email" class="form-control" id="checkout-email" name="email" placeholder="Email" required/>
                <div id="email-error" class="error-message"></div>
            </div>

            <div class="form-group">
                <label for="checkout-phone">Phone</label>
                <input type="tel" class="form-control" id="checkout-phone" name="phone" placeholder="Phone" required/>
                <div id="phone-error" class="error-message"></div>
            </div>

            <div class="form-group">
                <label for="checkout-address">Address</label>
                <input type="text" class="form-control" id="checkout-address" name="address" placeholder="Address" required/>
                <div id="address-error" class="error-message"></div>
            </div>

            <!-- Additional fields for card information -->
            <div class="form-group">
                <label for="card-number">Card Number</label>
                <input type="text" class="form-control" id="card-number" name="card-number" placeholder="Card Number" required/>
                <div id="card-number-error" class="error-message"></div>
            </div>

            <div class="form-group">
                <label for="expiration-date">Expiration Date</label>
                <input type="text" class="form-control" id="expiration-date" name="expiration-date" placeholder="MM/YY" required/>
                <div id="expiration-date-error" class="error-message"></div>
            </div>

            <div class="form-group">
                <label for="cvv">CVV</label>
                <input type="password" class="form-control" id="cvv" name="cvv" placeholder="CVV" required/>
                <div id="cvv-error" class="error-message"></div>
            </div>

            <div class="form-group">
                <input type="submit" class="btn" id="checkout-btn" value="Checkout"/>
            </div>
        </form>
    </div>

    <script>
        document.getElementById("checkout-form").addEventListener("submit", function(event) {
            event.preventDefault();

            // Retrieve form data
            var name = document.getElementById("checkout-name").value;
            var surname = document.getElementById("checkout-surname").value;
            var email = document.getElementById("checkout-email").value;
            var phone = document.getElementById("checkout-phone").value;
            var address = document.getElementById("checkout-address").value;
            var cardNumber = document.getElementById("card-number").value;
            var expirationDate = document.getElementById("expiration-date").value;
            var cvv = document.getElementById("cvv").value;

            // Validate name
            if (name.length < 3 || !/^[a-zA-Z\s]+$/.test(name)) {
                document.getElementById("name-error").innerText = "Name must be at least 3 characters long and contain only letters";
                return;
            } else {
                document.getElementById("name-error").innerText = "";
            }

            // Validate surname
            if (surname.length < 3 || !/^[a-zA-Z\s]+$/.test(surname)) {
                document.getElementById("surname-error").innerText = "Surname must be at least 3 characters long and contain only letters";
                return;
            } else {
                document.getElementById("surname-error").innerText = "";
            }

            // Validate email
            if (!/\S+@\S+\.\S+/.test(email)) {
                document.getElementById("email-error").innerText = "Invalid email format";
                return;
            } else {
                document.getElementById("email-error").innerText = "";
            }

            // Validate phone
            if (!/^\d+$/.test(phone)) {
                document.getElementById("phone-error").innerText = "Phone must contain only numbers";
                return;
            } else {
                document.getElementById("phone-error").innerText = "";
            }

            // Validate address
            if (address.length < 10 || !/[a-zA-Z0-9]/.test(address)) {
                document.getElementById("address-error").innerText = "Invalid address. Please provide Your Country, City, and Address including Postal Code.";
                return;
            } else {
                document.getElementById("address-error").innerText = "";
            }

            // Validate card number length
            if (cardNumber.length !== 16) {
                document.getElementById("card-number-error").innerText = "Card number must be 16 digits long";
                return;
            } else {
                document.getElementById("card-number-error").innerText = "";
            }

            // Validate expiration date
            if (!/^\d{2}\/\d{2}$/.test(expirationDate)) {
                document.getElementById("expiration-date-error").innerText = "Invalid expiration date format (MM/YY)";
                return;
            } else {
                document.getElementById("expiration-date-error").innerText = "";
            }

            // Validate CVV
            if (!/^\d{3}$/.test(cvv)) {
                document.getElementById("cvv-error").innerText = "CVV must be 3 digits long";
                return;
            } else {
                document.getElementById("cvv-error").innerText = "";
            }

            // Store data in local storage
            localStorage.setItem("checkoutInfo", JSON.stringify({
                name: name,
                surname: surname,
                email: email,
                phone: phone,
                address: address,
                cardNumber: cardNumber,
                expirationDate: expirationDate,
                cvv: cvv
            }));

            alert("Your order is successful!");
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>
